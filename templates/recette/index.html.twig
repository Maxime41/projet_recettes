{% extends 'base.html.twig' %}

{% block title %}Hello RecetteController!
{% endblock %}

{% block body %}
	<style>
		.example-wrapper {
			margin: 1em auto;
			max-width: 800px;
			width: 95%;
			font: 18px / 1.5 sans-serif;
		}
		.example-wrapper code {
			background: #F5F5F5;
			padding: 2px 6px;
		}
		table {
			border-collapse: collapse;
			width: 100%;
		}

		th,
		td {
			padding: 8px;
			text-align: left;
			border-bottom: 1px solid #DDD;
		}

		tr:hover {
			background-color: #D6EEEE;
		}
		.center {
			text-align: center;
		}
		.button-9 {
			appearance: button;
			backface-visibility: hidden;
			background-color: #405cf5;
			border-radius: 6px;
			border-width: 0;
			box-shadow: rgba(50, 50, 93, 0.1) 0 0 0 1px inset, rgba(50, 50, 93, 0.1) 0 2px 5px 0, rgba(0, 0, 0, 0.07) 0 1px 1px 0;
			box-sizing: border-box;
			color: #fff;
			cursor: pointer;
			font-family: Verdana;
			font-size: 100%;
			height: 44px;
			line-height: 1.15;
			margin: 12px 0 0;
			outline: none;
			overflow: hidden;
			padding: 0 25px;
			position: relative;
			text-align: center;
			text-transform: none;
			transform: translateZ(0);
			transition: all 0.2s, box-shadow 0.08s ease-in;
			user-select: none;
			-webkit-user-select: none;
			touch-action: manipulation;
			width: 100%;
		}

		.button-9:disabled {
			cursor: default;
		}

		.button-9:focus {
			box-shadow: rgba(50, 50, 93, 0.1) 0 0 0 1px inset, rgba(50, 50, 93, 0.2) 0 6px 15px 0, rgba(0, 0, 0, 0.1) 0 2px 2px 0, rgba(50, 151, 211, 0.3) 0 0 0 4px;
		}
		.red {
			background-color: red;
		}
		.yellow {
			background-color: yellow;
			color: black;
			text-decoration: none;
			padding-top: 15px;
			padding-bottom: 15px;
		}
		.blue {
			background-color: blue;
			text-decoration: none;
			padding-top: 15px;
			padding-bottom: 15px;
			margin-left: 25px;
		}
		.flex {
			display: flex;
			align-items: center;
		}

		.vertical {
			display: flex;
			flex-direction: row;
			flex-wrap: nowrap;
			justify-content: center;
			align-items: center;
			align-content: stretch;
		}
	</style>

	<div class="example-wrapper">
		{% for message in app.flashes('success') %}
			<div class="alert alert-success">
				{{ message }}
			</div>
		{% endfor %}
		<div class="flex">
			<h1>
				Recettes et ingrédients
			</h1>
			<div class="vertical">
				<a href="{{ path('app_ingredient') }}">
					<img src="{{ asset('images/CHIEF.jpg') }}" alt="LE CHEF"/>
				</a>
			</div>
		</div>

		<table>
			<tr class="yellow">
				<th>
					N ° Recette
				</th>
				<th>
					Nom
				</th>
				<th>
					Temps (minutes)
				</th>
				<th>
					Date de création
				</th>
				<th>
					Date de modification
				</th>
                <th>
					description
				</th>
                <th>
					Prix (EUR)
				</th>
                <th>
					Difficulté
				</th>
                <th>
					Liste des ingrédients liés à la recette
				</th>                                
			</tr>
			{% for key, recette in recettes %}
				<tr>
					<td>
						{{recette.id}}
					</td>
					<td>
						{{recette.nom}}
					</td>
					<td>
						<b>{{recette.temps}}</td>
					</td>
					<td>
						{{recette.getCreatedAt|date("Y-m-d")}} 
					</td>
                    <td>
						{{recette.getUpdatedAt|date("Y-m-d")}} 
					</td>
                    <td>
						{{recette.description}} 
					</td>
                    <td>
						{{recette.prix}} 
					</td>
                    <td>
                        {{recette.difficulte}}
                    </td>
                    <td>
                        {% for ingredient in recette.getIngredients %}
						    {{ ingredient.nom}}
                        {% endfor %} 
					</td>
				</tr>
			{% endfor %}
		</table>
	</div>
{% endblock %}
